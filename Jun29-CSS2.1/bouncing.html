<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Bouncing Ball</title>

    <style>
        div.square{
            width:500px;
            height:300px;
            border:1px solid gray;
            position:relative;
        }
        div.ball {
            height:20px;
            width:20px;
            background-color:red;
            border-radius: 50%;
            position:absolute;
            top:0px;
            left:0px;
        }
    </style>

</head>
<body>

<div id = "squarecontainer" class = "square">
    <div class = "ball">

    </div>
</div>
<script>
    function dropBall() {
        var ball = document.querySelector('div.ball');
        var topprop = 0;
        var directionup = false;
        var rect;
        var t = 9;
        var time=0;
        var id = setInterval(function () {
            //var top=0;]
            time++;
            if (directionup) {
                ball.style.top = getSpeed() + 'px';
            } else {
                ball.style.top = getSpeed() + 'px';
            }
            rect = ball.getBoundingClientRect();
            if (rect.bottom >= 309) {
                if(directionup==false){
                    time=10;
                }
                directionup = true;
                t += 10;
                if (t >= 309) {
                    clearInterval(id);
                }
                //time=1;
            }
            if (rect.top <= t) {
                if(directionup==true){
                    time=0;
                }
                directionup = false;
            }
            function getSpeed(){
                var speed=0;
                if (directionup==true){
                    speed = (1/2)*0.0098*time*time;
                    console.log('time ' + time + ' speed' +speed + ' t' +topprop);
                    return topprop-=speed;
                }else{
                    speed = (1/2)*0.0098*time*time;
                    console.log('time ' + time + ' speed' +speed + ' t' +topprop);
                    return topprop+=speed;
                }
            }
            // console.log(rect.top, rect.right, rect.bottom, rect.left);
        }, 10);
    };
    dropBall();
    /*document.getElementById("squarecontainer").onclick = function( event ) {
     // display the current click count inside the clicked div
     dropBall();
     };*/
</script>

</body>


</html>